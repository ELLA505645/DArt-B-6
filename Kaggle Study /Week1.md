**ðŸ¿ðŸŽ¬ Movie Recommendation ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë³´ìž!**
> ë„·í”Œë¦­ìŠ¤ì—ì„œ ì¶”ì²œ ì„œë¹„ìŠ¤ëŠ” userì—ê²ŒëŠ” ê·¸ë“¤ì´ ì›í•˜ëŠ” ì»¨í…ì¸ ë¥¼ ì¶”ì²œë°›ê³ ,
 providerë“¤ì€ ì´ìµì„ ì–»ì„ ìˆ˜ ìžˆì–´ win-win solutionìž„!
 
> ë„·í”Œë¦­ìŠ¤ì—ëŠ” 75%ì˜ ì˜í™”ê°€ ì¶”ì²œ ì„œë¹„ìŠ¤ë¡œ ì¸í•´ ì‹œì²­ëœë‹¤!

# 1ï¸âƒ£ ë¶„ì„ íë¦„ ë”°ë¼ìž¡ê¸°

## 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°

- **import re**
  
  ì •ê·œí‘œí˜„ì‹ ë„êµ¬. í…ìŠ¤íŠ¸ì—ì„œ íŠ¹ì • íŒ¨í„´ì„ ì°¾ê±°ë‚˜ (ì˜ˆ:íŠ¹ìˆ˜ë¬¸ìž ì œê±°), ì¹˜í™˜í•  ë•Œ ì‚¬ìš©

- **import tensorflow as tf**
  
  ë”¥ëŸ¬ë‹ ëª¨ë¸ ë§Œë“¤ê³  í•™ìŠµì‹œí‚¬ ë•Œ ì‚¬ìš©
 (tensorflowëŠ” ë¨¸ì‹ ëŸ¬ë‹ê³¼ ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ ë§Œë“¤ê³  ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ ë„ì™€ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë„êµ¬ë¼ê³ í•¨)

- **import tensorflow_recommenders**
  
  ranking ëª¨ë¸ êµ¬ì¡° ë§Œë“¤ ë•Œ ìžì£¼ ì‚¬ìš©ë¨

- **from collections import counter**
  
  ë‹¨ì–´ ë¹ˆë„ ì„¸ê¸° ë“±ì˜ ì¹´ìš´íŠ¸ ìž‘ì—…ì— ë§Žì´ ì”€ -> ë¦¬ë·° ë¶„ì„ ë“± í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë“¯!!

- **from datetime import datetime**
  
  ë‚ ì§œ, ì‹œê°„ ì²˜ë¦¬ìš©. ì˜í™” ê°œë´‰ì¼ì„ datetime í˜•íƒœë¡œ ë°”ê¾¸ê±°ë‚˜ ì—°ë„ë¥¼ ì¶”ì¶œí•  ë•Œ ì‚¬ìš©

- **from wordcloud import WordCloud**
  
  ë‹¨ì–´ êµ¬ë¦„ ì‹œê°í™”. 

- **from sklearn.feature_extraction.text import TfidfVectorizer**
  
  í…ìŠ¤íŠ¸ë¥¼ ë²¡í„°ë¡œ ë³€í™˜í•˜ëŠëŠ” ë„êµ¬ (ì˜í™” ì„¤ëª…/í‚¤ì›Œë“œ/ìž¥ë¥´ ë“±ì„ ë²¡í„°í™”)

- **from sklearn.metrics.pairwise import cosine_similarity**
  
  ë²¡í„° ê°„ ìœ ì‚¬ë„ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜
  > ì˜í™”-ì˜í™” ìœ ì‚¬ë„ ê³„ì‚°í•  ë•Œ ì‚¬ìš©

- **axis=1**
  
  ì—´ì„ ì§€ìš´ë‹¤ëŠ” ëœ» ','ë¥¼ ë’¤ì— ì¨ì£¼ë©´ ,ì•žì— ì§€ì •í•œ ê°’ì„ ì§€ì›Œì„œ ë‚˜íƒ€ë‚˜ê²Œ í•¨

- **df['~~~'] = df['~~~'].fillna()**
  
  df['ì»¬ëŸ¼ëª…'] = df['ì»¬ëŸ¼ëª…'].fillna(ì±„ìš¸ê°’)
  í•´ë‹¹í•˜ëŠ” ì»¬ëŸ¼ëª…ì˜ ê²°ì¸¡ì¹˜ë¥¼ ì±„ìš¸ê°’ìœ¼ë¡œ ì±„ì›Œë‹¬ë¼ëŠ” ëœ»

- **dropna()**
  
  ê²°ì¸¡ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” í•¨ìˆ˜


## 2. ë°ì´í„° ì „ì²˜ë¦¬í•˜ê¸°

- **fi len(text) == 1:
  else:**

  ë§Œì•½ì— í…ìŠ¤íŠ¸(ìž¥ë¥´)ê°€ í•˜ë‚˜ì¼ ê²½ìš°ì—ëŠ” ì´ë ‡ê²Œ, í…ìŠ¤íŠ¸ê°€ í•˜ë‚˜ê°€ ì•„ë‹ ê²½ìš°(ìž¥ë¥´ê°€ ì—¬ëŸ¬ê°œì¼ ê²½ìš°)ì—ëŠ” ì´ë ‡ê²Œ ì²˜ë¦¬í•œë‹¤ëŠ” ëœ»

- **get_text**

  í…ìŠ¤íŠ¸ë¡œ ë³€í™˜ì‹œí‚¤ëŠ” ì½”ë“œ

- **reset_index**

  ì‚­ì œëœ í–‰ë“¤ì´ ìžˆìœ¼ë‹ˆ ì¤‘ê°„ì¤‘ê°„ì´ ë¹„ì–´ì„œ ë³´ì¼ ê²ƒìž„.
  ì¸ë±ìŠ¤ë¥¼ 0ë¶€í„° ë‹¤ì‹œ ë§¤ê¸´ë‹¤


## 3. ë°ì´í„° ìš”ì•½ë³´ê¸°

ë°ì´í„° ê°„ëžµí•˜ê²Œ í™•ì¸í•´ì„œ ì•žì—ì„œ ì§„í–‰í•œ ì „ì²˜ë¦¬ê°€ ëª¨ë‘ ìž˜ ì ìš©ëëŠ”ì§€ í™•ì¸

- **df.info()**

í–‰ ê°œìˆ˜, ì»¬ëŸ¼ ê°œìˆ˜, ì»¬ëŸ¼ëª…, non-nullê°’ ê°œìˆ˜, ë°ì´í„° íƒ€ìž…(dtype), ì „ì²´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì„ ë‚˜íƒ€ëƒ„!



## 4. ì‹œê°í™”

> ì¶”ì²œ ì‹œìŠ¤í…œì„ ë§Œë“¤ê¸° ì „ì— ì˜í™”ë“¤ì´ ê°ê° ì–´ë–¤ íŠ¹ì§•ë“¤ì„ ë‚˜íƒ€ë‚´ê³  ìžˆëŠ”ì§€ í™•ì¸í•´ë³´ìž

### (1) ì‹œê°í™” - 1

- **matplotlib**
  
  ìˆ˜ì¹˜ ë°ì´í„°ë¥¼ ê·¸ëž˜í”„ë¡œ ê·¸ë¦¬ê¸° ìœ„í•œ ë„êµ¬ë¥¼ ë¶ˆëŸ¬ë‚´ëŠ” ì½”ë“œ

- **plt.scatter(x=[0.5, 1.5], y=[1,1]**
  
  ë‘ê°œì˜ í° ì ì˜ ìœ„ì¹˜ë¥¼ ì°ì–´ì¤Œ

- **plt.axis('off')**

  ì¶•(x,y), ëˆˆê¸ˆ, í…Œë‘ë¦¬ ì „ë¶€ ìˆ¨ê¹€ ì²˜ë¦¬

> ê²°ê³¼ë¬¼
  
<img width="594" height="313" alt="image" src="https://github.com/user-attachments/assets/99599e31-b236-4646-bb2c-42f53c7a5c38" />


### (2) ì‹œê°í™” - 2

> ì˜ˆì‚°ê³¼ ìˆ˜ìµì´ ì¸ê¸°ì— ì–¼ë§Œí¼ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ë¶„ì„

- **df_plot**

  ~~~
  â“ ì‹œê°í™” - 1 ì—ì„œëŠ” ë°ì´í„°í”„ë ˆìž„ì„ ë”°ë¡œ ì•ˆë§Œë“¤ì—ˆëŠ”ë° ì‹œê°í™” - 2 ì—ì„œëŠ” ë§Œë“ ì´ìœ ?

  ì‹œê°í™”1ì—ì„œëŠ” NaNì´ë‚˜ 0ê°’ì´ ìžˆì–´ë„ ê´€ê³„ì—†ìŒ.
  but, ì‹œê°í™” 2ì—ì„œëŠ” ê°’ë“¤ ê°„ì— 'ë¯¸ì¹˜ëŠ” ì˜í–¥'ì„ ë¶„ì„í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— 0ê°’ì„ ì œê±°í•˜ê³ 
  ìˆ˜ì¹˜ë¥¼ ë¶„ì„í•´ì•¼ í•¨.
  ~~~

- **â­ï¸ regplot í•¨ìˆ˜**

  íšŒê·€ ê´€ê³„ë¥¼ ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜
  -> x.y ë°ì´í„° ì¶”ì¶œ, ê²°ì¸¡ì¹˜ ê³„ì‚°, ì„ í˜• íšŒê·€ ê³„ì‚°, ì ìœ¼ë¡œ ë°ì´í„° ì‹œê°í™” 

  > ê²°ê³¼ë¬¼
  <img width="779" height="391" alt="image" src="https://github.com/user-attachments/assets/8e283c45-36ff-4996-86f6-de96cd582027" />

~~~
ðŸ“ Insight

(1) budgetê³¼ revenueê°€ ì•½í•˜ê²Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤

(2) ì  í•˜ë‚˜ê°€ ì˜í™” 1íŽ¸ì„ ì˜ë¯¸

(3) ë…¸ëž€ ì„ ì´ ë„“ì–´ì§€ëŠ” ì§€ì ì€, ê·¸ êµ¬ê°„ì—ì„œ ì‹ ë¢°ë„ê°€ ë–¨ì–´ì§„ë‹¤ëŠ” ëœ»

(4) ì˜ˆì‚°ë³´ë‹¤ëŠ” ìˆ˜ìµì´ ë” í¬ê²Œ ê´€ê³„ê°€ ìžˆë‹¤
~~~

### (3) ì‹œê°í™” - 3

- **jointplot**

ë‘ ë³€ìˆ˜ì˜ ê´€ê³„ë¥¼ ë¶„í¬ë¥¼ í¬í•¨í•˜ì—¬ í™•ì¸í•˜ê¸° ìœ„í•¨

> ê²°ê³¼ë¬¼

<img width="546" height="542" alt="image" src="https://github.com/user-attachments/assets/0f6b617e-f3df-4745-b165-54b068db8a9e" />

~~~
ðŸ“ Insight

(1) ëŒ€ë¶€ë¶„ì˜ ì˜í™”ê°€ budgetë³´ë‹¤ revenueê°€ í¬ë‹¤
~~~

**â­ï¸ ì´ëŸ° ê´€ê³„ë¥¼ ì‹œê°í™”ë¡œ í™•ì¸í•˜ëŠ” ì´ìœ ê°€ ë­˜ê¹Œ**

-> ì¶”ì²œ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê²ƒì¸ë°, ìš°ë¦¬ê°€ ê°€ì§€ê³  ìžˆëŠ” ì˜í™”ë“¤ì˜ ëŒ€ë¶€ë¶„ì´ í¥í–‰ìž‘ë“¤ì´ë¼ëŠ” ê²ƒì„ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œ.

ë§ˆì´ë„ˆí•œ ì˜í™”ëŠ” ì™œ ì¶”ì²œë˜ì§€ ì•Šì„ê¹Œ? ì— ëŒ€í•œ ì°¸ê³ ì‚¬í•­ê³¼ ë³´ì™„ì‚¬í•­ì´ ë  ìˆ˜ ìžˆìŒ.

### (4) ì‹œê°í™” - 4

- **df_plot = pd.DataFrame(Counter(genres_list).most_common(5), columns=['genre', 'total'])**

 - counter(genres_list): ìž¥ë¥´ë³„ ë“±ìž¥ íšŸìˆ˜ ê³„ì‚°
 - most_common(5): ìƒìœ„ 5ê°œë§Œ ì¶”ì¶œ

> ê²°ê³¼ë¬¼
<img width="371" height="354" alt="image" src="https://github.com/user-attachments/assets/44acb6f6-ac83-42ce-832e-c87eaddbe68e" />


- **df_plot.loc[len(df_plot)] = { 'genre': 'Others', 'total': df_plot_full[6:].sum()[0] }**

 ë°”ë¡œ ì „ df_plotì„ ìƒìœ„ 5ê°œë§Œ ì¶”ì¶œí•´ë‹¬ë¼ê³  ìž…ë ¥, 
 ë‚˜ë¨¸ì§€ 6ê°œë¶€í„°ëŠ” 'others'ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í•©ì³ì„œ ì¶”ì¶œí•´ë¼

> ê²°ê³¼ë¬¼
<img width="371" height="347" alt="image" src="https://github.com/user-attachments/assets/25be2fdb-aac2-4ae2-9441-837bd4baa605" />

~~~
ðŸ“ Insight
  
(1) ë“œë¼ë§ˆ ìž¥ë¥´ê°€ ê°€ìž¥ ìˆ˜ê°€ ë§Žë‹¤

(2) ìƒìœ„ ë‹¤ì„¯ê°œ ìž¥ë¥´ ì™¸ì—ë„, 38.67%ë¥¼ ì°¨ì§€í•˜ëŠ” ë‹¤ë¥¸ ìž¥ë¥´ë“¤ì´ ë§Žë‹¤
~~~

### (5) ì‹œê°í™” - 5

- displot
- kind= 'hist'

  displotì„ ë§Œë“¤êº¼ê³ , ížˆìŠ¤í† ê·¸ëž¨ë„ ê°™ì´ ë§Œë“ ë‹¤

  > ê²°ê³¼ë¬¼

  <img width="738" height="280" alt="image" src="https://github.com/user-attachments/assets/1780981f-a613-4409-88b1-3c8698b7159b" />

~~~
ðŸ“ Insight

(1) ì‹œê°„ íë¦„ì— ë”°ë¥¸ ë¶„í¬ë¥¼ ë³´ê¸° ìœ„í•œ ê³¼ì •

(2) ë°ì´í„°ê°€ ì¼ë¶€ ì‹œê¸°ì— íŽ¸í–¥ì´ ìžˆë‹¤

(3) ì¶”ì²œ ì‹œìŠ¤í…œì´ ìµœê·¼(2020ë…„ ì´í›„) ì˜í™”ì— ì•½í•  ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ í™•ì¸

(4) ë°ì´í„°ì˜ í•œê³„ë¥¼ ì•Œ ìˆ˜ ìžˆìŒ
~~~

### (6) ì‹œê°í™” - 6

- relplot

ê´€ê³„í˜• (relational) ì‹œê°í™” í•¨ìˆ˜

*regplotê³¼ relplotì˜ ì°¨ì´ì ?
-> regplotì€ íšŒê·€ì„ ì„ ë‚˜íƒ€ë‚´ì£¼ê³ , ì¶”ì„¸ë¥¼ ì•Œ ìˆ˜ ìžˆìŒ
-> relplotì€ ê·¸ë£¹ ê°„ì˜ ê´€ê³„ë¥¼ ë¹„êµí•  ìˆ˜ ìžˆìŒ

- vote_averageì™€ popularityì˜ ê´€ê³„

> ê²°ê³¼ë¬¼
<img width="746" height="379" alt="image" src="https://github.com/user-attachments/assets/f072495f-911d-42bf-abc8-7b1b55c92741" />

~~~
ðŸ“ Inisght

(1) íˆ¬í‘œ ìˆ˜ê°€ ë§Žì„ ìˆ˜ë¡ ë™ê·¸ë¼ë¯¸ì˜ í¬ê¸°ê°€ ì»¤ì§„ë‹¤

(2) 0ì ì´ë‚˜ 10ì  ê°™ì€ ê·¹ë‹¨ì  ì ìˆ˜ë¡œ ê°ˆìˆ˜ë¡ íˆ¬í‘œìˆ˜ê°€ ì ì–´ì§„ë‹¤

(3) 1ëª…ì´ í‰ê°€í•œ 10ì ë³´ë‹¤ 50ëª…ì´ í‰ê°€í•œ 8ì ì´ ë”ìš± íƒ€ë‹¹ì„±ì´ ìžˆê¸° ë•Œë¬¸ì— ì¶”í›„ì— ì´ëŸ¬í•œ ê²ƒë“¤ì„
ì¡°ì •í•  ìˆ˜ ìžˆëŠ” íŒë‹¨ ê¸°ì¤€ì´ ë¨
( í‰ì  + íˆ¬í‘œ ìˆ˜ë¥¼ í•¨ê»˜ ê³ ë ¤ or ê°€ì¤‘í‰ê·  ì‚¬ìš© or íˆ¬í‘œìˆ˜ê°€ ë„ˆë¬´ ì ì€ ê²ƒì€ ë°°ì œ)
~~~



## 5. ì¶”ì²œ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°

**(1) í‰ì  ë° ìˆ˜ì¹˜ ê¸°ë°˜ ì¶”ì²œ ì ìˆ˜ ë§Œë“¤ê¸°**

- **ê°€ì¤‘í‰ê·  ê³µì‹ ì‚¬ìš©**

- **m = df['vote_count'].quantile(0.8)**

íˆ¬í‘œìˆ˜ê°€ 80% ë„˜ëŠ” ê²ƒë§Œ ì‚¬ìš© -> ìƒìœ„ 20%ì— í•´ë‹¹í•˜ëŠ” ê²ƒë§Œ ì‚¬ìš©

- **df['weighted_average'] = (R*v + C*m)/(v+m)**

*R * v: ì˜í™” ìžì‹ ì˜ í‰ì  X íˆ¬í‘œ ìˆ˜ (ì´ ì˜í™”ì— ëŒ€í•œ ì‹¤ì œ í‰ê°€ ì´ëŸ‰)*
*C * m: ì „ì²´ í‰ê·  í‰ì  X ê¸°ì¤€ íˆ¬í‘œ ìˆ˜ ( ì „ì²´ í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ê°’ì´ íŠ€ì§€ ì•Šê²Œ ë³´ì •í•˜ëŠ” ê³¼ì •)*

- **MinMaxScalerë¥¼ ì‚¬ìš©í•´ì„œ ì •ê·œí™”**

  ì¶”ì²œ ì ìˆ˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ, popularityì™€ vote_averageë¥¼ ì‚¬ìš©í•  ê²ƒìž„.
  ë‹¨ìœ„ê°€ ë‹¬ë¼ì„œ ì •ê·œí™” ì§„í–‰

- **weighted_df['score'] = weighted_df['weighted_average']*0.4 + weighted_df['popularity'].astype('float64')*0.6**

weighted_averageì— 0.4ì˜ ê°€ì¤‘ì¹˜, popularityì— 0.6ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë‘ê³  ë‘ê°œë¥¼ í•©ì³ì„œ
ìµœì¢… ì¶”ì²œ ì ìˆ˜ë¥¼ ë§Œë“¦
(*popularityëŠ” ë°ì´í„°ì…‹ì—ì„œ ì œê³µ)


**(2) ì»¨í…ì¸  (í…ìŠ¤íŠ¸) ê¸°ë°˜ ì¶”ì²œ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°**

- **í…ìŠ¤íŠ¸ ì •ë³´ ì„ íƒ**

ë‚´ìš©/ì„¤ëª…/ì¸ë¬¼/í‚¤ì›Œë“œ ë“±ì˜ í…ìŠ¤íŠ¸ ì •ë³´ ê³ ë ¤ -> í…ìŠ¤íŠ¸ ìœ ì‚¬ë„ ê¸°ë°˜ ì¶”ì²œì„ í•˜ë ¤ê³ 

- **separate í•¨ìˆ˜**

  ê´„í˜¸ ì•ˆ ë‚´ìš© ì œê±°, ìˆ«ìž ì œê±°, ê³µë°± ì œê±°, ë¬¸ìž¥ë¶€í˜¸ ì œê±°, ì†Œë¬¸ìž ë³€í™˜ ì²˜ë¦¬


- **content_df[''] = content_df[''].apply(remove_punc)**

ëª¨ë“  ì»¬ëŸ¼ë“¤ì„ ì†Œë¬¸ìží™”, íŠ¹ìˆ˜ë¬¸ìž ì œê±°

- **bag_of_words**

 bag_of_wordsì»¬ëŸ¼ì—ë‹¤ê°€ ì •ì œëœ ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ í•©ì³ì¤€ë‹¤

 
**(3) ì¶”ì²œ ì ìˆ˜ + ìœ ì‚¬ë„ ê¸°ë°˜ ì¶”ì²œ ê²°ê³¼**

- **tfidf = TfidfVectorizer(stop_words='english', min_df=5)**

*í…ìŠ¤íŠ¸ë¥¼ ìˆ«ìž ë²¡í„°ë¡œ ë³€í™˜í•˜ëŠ” ë„êµ¬

  - stop_words : the, is, and ê°™ì€ ì˜ë¯¸ ì—†ëŠ” ìš©ì–´ ì œê±°
  - min_df=5 : 5ê°œ ë¯¸ë§Œìœ¼ë¡œ ë“±ìž¥í•œ ë‹¨ì–´ëŠ” ë¬´ì‹œ (í¬ê·€í•œ ë‹¨ì–´ ì œê±°)

- **cosine_similarity**

  ì½”ì‚¬ì¸ ìœ ì‚¬ë„: ì–´ë–¤ ë‹¨ì–´ë“¤ì„ ë¹„ìŠ·í•œ ë¹„ìœ¨ë¡œ ì‚¬ìš©í•˜ê³  ìžˆëŠ”ê°€ë¥¼ ë¶„ì„

- **final_df['final_score'] = final_df['score']*(1-similarity_weight) + final_df['similarity']*similarity_weight**

ìµœì¢… ì¶”ì²œ ì ìˆ˜ ê³„ì‚°í•˜ëŠ” ê³µì‹

~~~
Toy Storyë¥¼ ìž…ë ¥í•˜ë©´?

> ì¶”ì²œ ê²°ê³¼
<img width="467" height="529" alt="image" src="https://github.com/user-attachments/assets/56b5f66e-49eb-435f-84de-58214d4c064c" />
~~~

Movie Recommendation System ì™„ì„±!!!!!
